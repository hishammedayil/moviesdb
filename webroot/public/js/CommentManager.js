/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./resources/js/CommentManager.js":
/*!****************************************!*\
  !*** ./resources/js/CommentManager.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar CommentManager = /*#__PURE__*/function () {\n  function CommentManager(movie, getUrl, postUrl, axios) {\n    _classCallCheck(this, CommentManager);\n\n    _defineProperty(this, \"_movie\", void 0);\n\n    _defineProperty(this, \"_getUrl\", void 0);\n\n    _defineProperty(this, \"_postUrl\", void 0);\n\n    _defineProperty(this, \"_axios\", void 0);\n\n    _defineProperty(this, \"_tpl\", void 0);\n\n    this._movie = movie;\n    this._getUrl = getUrl;\n    this._postUrl = postUrl;\n    this._axios = axios;\n    this._tpl = document.getElementById('comment-template');\n  }\n\n  _createClass(CommentManager, [{\n    key: \"init\",\n    value: function init() {\n      this._listen();\n\n      this._getComments();\n\n      this._setupPostComment();\n    }\n  }, {\n    key: \"_listen\",\n    value: function _listen() {\n      var _this2 = this;\n\n      Echo.channel('movie-comments.' + this._movie.id).listen('NewComment', function (comment) {\n        _this2._prependCommentsList(comment);\n      });\n    }\n  }, {\n    key: \"_prependCommentsList\",\n    value: function _prependCommentsList(comment) {\n      var instance = this._buildCommentView(comment);\n\n      document.getElementById('comments-container').prepend(instance);\n    }\n  }, {\n    key: \"_buildCommentView\",\n    value: function _buildCommentView(comment) {\n      var instance = document.importNode(this._tpl.content, true);\n      instance.querySelector('.comment-heading').innerHTML = comment.user.name;\n      instance.querySelector('.comment-content').innerHTML = comment.comment;\n      instance.querySelector('.comment-time').innerHTML = comment.posted_at;\n      return instance;\n    }\n  }, {\n    key: \"_getComments\",\n    value: function _getComments() {\n      var _this3 = this;\n\n      this._axios.get(this._getUrl).then(function (response) {\n        response.data.forEach(function (comment) {\n          var instance = _this3._buildCommentView(comment);\n\n          document.getElementById('comments-container').appendChild(instance);\n        });\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"_setupPostComment\",\n    value: function _setupPostComment() {\n      var _this = this;\n\n      document.getElementById('post-comment').addEventListener('click', function () {\n        var commentField = document.getElementById('comment-text');\n\n        _this._doPost(commentField);\n      });\n    }\n  }, {\n    key: \"_doPost\",\n    value: function _doPost(commentField) {\n      var _this4 = this;\n\n      this._axios.post(this._postUrl, {\n        comment: commentField.value\n      }).then(function (response) {\n        _this4._prependCommentsList(response.data);\n\n        commentField.value = '';\n      })[\"catch\"](function (error) {\n        console.log(error);\n      });\n    }\n  }]);\n\n  return CommentManager;\n}();\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (CommentManager);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQXJCOztBQUNBNkIsUUFBQUEsS0FBSyxDQUFDRyxPQUFOLENBQWNELFlBQWQ7QUFDSCxPQUhEO0FBSUg7QUE3RGU7QUFBQTtBQUFBLFdBK0RoQixpQkFBUUEsWUFBUixFQUFzQjtBQUFBOztBQUNsQixXQUFLbEMsTUFBTCxDQUFZb0MsSUFBWixDQUFpQixLQUFLckMsUUFBdEIsRUFBZ0M7QUFDNUJZLFFBQUFBLE9BQU8sRUFBRXVCLFlBQVksQ0FBQ0c7QUFETSxPQUFoQyxFQUdLYixJQUhMLENBR1UsVUFBQ0MsUUFBRCxFQUFjO0FBQ2hCLGNBQUksQ0FBQ2Isb0JBQUwsQ0FBMEJhLFFBQVEsQ0FBQ0MsSUFBbkM7O0FBQ0FRLFFBQUFBLFlBQVksQ0FBQ0csS0FBYixHQUFxQixFQUFyQjtBQUNILE9BTkwsV0FPVyxVQUFVUixLQUFWLEVBQWlCO0FBQ3BCQyxRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWUYsS0FBWjtBQUNILE9BVEw7QUFVSDtBQTFFZTs7QUFBQTtBQUFBLEdBQXBCOztBQTZFQSxpRUFBZXJDLGNBQWYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvQ29tbWVudE1hbmFnZXIuanM/YmVjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBDb21tZW50TWFuYWdlciA9IGNsYXNzIHtcbiAgICBfbW92aWU7XG4gICAgX2dldFVybDtcbiAgICBfcG9zdFVybDtcbiAgICBfYXhpb3M7XG4gICAgX3RwbDtcbiAgICBjb25zdHJ1Y3RvciAobW92aWUsIGdldFVybCwgcG9zdFVybCwgYXhpb3MpIHtcbiAgICAgICAgdGhpcy5fbW92aWUgPSBtb3ZpZTtcbiAgICAgICAgdGhpcy5fZ2V0VXJsID0gZ2V0VXJsO1xuICAgICAgICB0aGlzLl9wb3N0VXJsID0gcG9zdFVybDtcbiAgICAgICAgdGhpcy5fYXhpb3MgPSBheGlvcztcbiAgICAgICAgdGhpcy5fdHBsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbW1lbnQtdGVtcGxhdGUnKTtcbiAgICB9XG5cbiAgICBpbml0KCkge1xuICAgICAgICB0aGlzLl9saXN0ZW4oKTtcbiAgICAgICAgdGhpcy5fZ2V0Q29tbWVudHMoKTtcbiAgICAgICAgdGhpcy5fc2V0dXBQb3N0Q29tbWVudCgpO1xuICAgIH1cblxuICAgIF9saXN0ZW4oKSB7XG4gICAgICAgIEVjaG8uY2hhbm5lbCgnbW92aWUtY29tbWVudHMuJyArIHRoaXMuX21vdmllLmlkKVxuICAgICAgICAgICAgLmxpc3RlbignTmV3Q29tbWVudCcsIChjb21tZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJlcGVuZENvbW1lbnRzTGlzdChjb21tZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9wcmVwZW5kQ29tbWVudHNMaXN0IChjb21tZW50KSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gdGhpcy5fYnVpbGRDb21tZW50Vmlldyhjb21tZW50KVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29tbWVudHMtY29udGFpbmVyJykucHJlcGVuZChpbnN0YW5jZSlcbiAgICB9XG5cbiAgICBfYnVpbGRDb21tZW50Vmlldyhjb21tZW50KSB7XG4gICAgICAgIGNvbnN0IGluc3RhbmNlID0gZG9jdW1lbnQuaW1wb3J0Tm9kZSh0aGlzLl90cGwuY29udGVudCwgdHJ1ZSk7XG5cbiAgICAgICAgaW5zdGFuY2UucXVlcnlTZWxlY3RvcignLmNvbW1lbnQtaGVhZGluZycpLmlubmVySFRNTCA9IGNvbW1lbnQudXNlci5uYW1lO1xuICAgICAgICBpbnN0YW5jZS5xdWVyeVNlbGVjdG9yKCcuY29tbWVudC1jb250ZW50JykuaW5uZXJIVE1MID0gY29tbWVudC5jb21tZW50O1xuICAgICAgICBpbnN0YW5jZS5xdWVyeVNlbGVjdG9yKCcuY29tbWVudC10aW1lJykuaW5uZXJIVE1MID0gY29tbWVudC5wb3N0ZWRfYXQ7XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlXG4gICAgfVxuXG4gICAgX2dldENvbW1lbnRzKCkge1xuICAgICAgICB0aGlzLl9heGlvcy5nZXQodGhpcy5fZ2V0VXJsKVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzcG9uc2UuZGF0YS5mb3JFYWNoKGNvbW1lbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IHRoaXMuX2J1aWxkQ29tbWVudFZpZXcoY29tbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb21tZW50cy1jb250YWluZXInKS5hcHBlbmRDaGlsZChpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9zZXR1cFBvc3RDb21tZW50KCkge1xuICAgICAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3N0LWNvbW1lbnQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc3QgY29tbWVudEZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbW1lbnQtdGV4dCcpO1xuICAgICAgICAgICAgX3RoaXMuX2RvUG9zdChjb21tZW50RmllbGQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBfZG9Qb3N0KGNvbW1lbnRGaWVsZCkge1xuICAgICAgICB0aGlzLl9heGlvcy5wb3N0KHRoaXMuX3Bvc3RVcmwsIHtcbiAgICAgICAgICAgIGNvbW1lbnQ6IGNvbW1lbnRGaWVsZC52YWx1ZVxuICAgICAgICB9KVxuICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJlcGVuZENvbW1lbnRzTGlzdChyZXNwb25zZS5kYXRhKTtcbiAgICAgICAgICAgICAgICBjb21tZW50RmllbGQudmFsdWUgPSAnJztcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICAgICAgfSlcbiAgICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENvbW1lbnRNYW5hZ2VyO1xuIl0sIm5hbWVzIjpbIkNvbW1lbnRNYW5hZ2VyIiwibW92aWUiLCJnZXRVcmwiLCJwb3N0VXJsIiwiYXhpb3MiLCJfbW92aWUiLCJfZ2V0VXJsIiwiX3Bvc3RVcmwiLCJfYXhpb3MiLCJfdHBsIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsIl9saXN0ZW4iLCJfZ2V0Q29tbWVudHMiLCJfc2V0dXBQb3N0Q29tbWVudCIsIkVjaG8iLCJjaGFubmVsIiwiaWQiLCJsaXN0ZW4iLCJjb21tZW50IiwiX3ByZXBlbmRDb21tZW50c0xpc3QiLCJpbnN0YW5jZSIsIl9idWlsZENvbW1lbnRWaWV3IiwicHJlcGVuZCIsImltcG9ydE5vZGUiLCJjb250ZW50IiwicXVlcnlTZWxlY3RvciIsImlubmVySFRNTCIsInVzZXIiLCJuYW1lIiwicG9zdGVkX2F0IiwiZ2V0IiwidGhlbiIsInJlc3BvbnNlIiwiZGF0YSIsImZvckVhY2giLCJhcHBlbmRDaGlsZCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsIl90aGlzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbW1lbnRGaWVsZCIsIl9kb1Bvc3QiLCJwb3N0IiwidmFsdWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./resources/js/CommentManager.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The require scope
/******/ 	var __webpack_require__ = {};
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./resources/js/CommentManager.js"](0, __webpack_exports__, __webpack_require__);
/******/ 	
/******/ })()
;